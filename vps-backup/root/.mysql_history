_HiStOrY_V2_
--\0401.\040Establecer\040contraseña\040para\040root@localhost
ALTER\040USER\040'root'@'localhost'\040IDENTIFIED\040BY\040'Soyelniko1';
--\0402.\040Eliminar\040usuarios\040anónimos
DELETE\040FROM\040mysql.user\040WHERE\040User='';
--\0403.\040Deshabilitar\040login\040remoto\040de\040root
DELETE\040FROM\040mysql.user\040WHERE\040User='root'\040AND\040Host\040NOT\040IN\040('localhost');
--\0404.\040Eliminar\040base\040de\040datos\040de\040prueba
DROP\040DATABASE\040IF\040EXISTS\040test;
DELETE\040FROM\040mysql.db\040WHERE\040Db='test'\040OR\040Db\040LIKE\040'test\134\134_%';
--\0405.\040Refrescar\040privilegios
FLUSH\040PRIVILEGES;
EXIT;
ALTER\040USER\040'root'@'localhost'
\040\040BY\040'Soyelniko1';
FLUSH\040PRIVILEGES;
EXIT;
CREATE\040DATABASE\040mailserver\040CHARACTER\040SET\040utf8mb4\040COLLATE\040utf8mb4_general_ci;
SHOW\040DATABASES;
exit;
CREATE\040TABLE\040clients\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040name\040VARCHAR(255)\040NOT\040NULL,
\040\040\040\040email\040VARCHAR(255)\040UNIQUE\040NOT\040NULL,
\040\040\040\040created_at\040TIMESTAMP\040DEFAULT\040CURRENT_TIMESTAMP,
\040\040\040\040expires_at\040TIMESTAMP\040NULL
);
CREATE\040TABLE\040client_domains\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040client_id\040INT\040NOT\040NULL,
\040\040\040\040domain\040VARCHAR(255)\040UNIQUE\040NOT\040NULL,
\040\040\040\040verified\040BOOLEAN\040DEFAULT\040FALSE,
\040\040\040\040FOREIGN\040KEY\040(client_id)\040REFERENCES\040clients(id)
);
CREATE\040TABLE\040client_domains\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040client_id\040INT\040NOT\040NULL,\040\040\040\040\040domain\040VARCHAR(255)\040UNIQUE\040NOT\040NULL,\040\040\040\040\040verified\040BOOLEAN\040DEFAULT\040FALSE,\040\040\040\040\040FOREIGN\040KEY\040(client_id)\040REFERENCES\040clients(id)\040);
CREATE\040TABLE\040client_logins\040(
\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,
\040\040\040\040client_id\040INT\040NOT\040NULL,
\040\040\040\040ip\040VARCHAR(45)\040NOT\040NULL,
\040\040\040\040timestamp\040TIMESTAMP\040DEFAULT\040CURRENT_TIMESTAMP,
\040\040\040\040FOREIGN\040KEY\040(client_id)\040REFERENCES\040clients(id)
);
CREATE\040TABLE\040client_logins\040(\040\040\040\040\040id\040INT\040AUTO_INCREMENT\040PRIMARY\040KEY,\040\040\040\040\040client_id\040INT\040NOT\040NULL,\040\040\040\040\040ip\040VARCHAR(45)\040NOT\040NULL,\040\040\040\040\040timestamp\040TIMESTAMP\040DEFAULT\040CURRENT_TIMESTAMP,\040\040\040\040\040FOREIGN\040KEY\040(client_id)\040REFERENCES\040clients(id)\040);
SHOW\040TABLES;
exit;
DROP\040TABLE\040IF\040EXISTS\040client_logins;
DROP\040TABLE\040IF\040EXISTS\040client_domains;
DROP\040TABLE\040IF\040EXISTS\040clients;
EXIT;
GRANT\040SELECT\040ON\040postfixadmin.*\040TO\040'mailuser'@'localhost';
FLUSH\040PRIVILEGES;
EXIT;
GRANT\040SELECT\040ON\040mailserver.*\040TO\040'mailuser'@'localhost';
FLUSH\040PRIVILEGES;
EXIT;
GRANT\040SELECT,\040INSERT,\040UPDATE,\040DELETE
\040\040ON\040postfixadmin.*\040
\040\040TO\040'pfadmin'@'127.0.0.1'
GRANT\040SELECT,\040INSERT,\040UPDATE,\040DELETE
\040\040ON\040postfixadmin.*\040
\040\040TO\040'pfadmin'@'localhost'
FLUSH\040PRIVILEGES;
EXIT;
SELECT\040User,\040Host\040FROM\040mysql.user\040WHERE\040User='pfadmin';
--\040si\040ya\040existía\040y\040quieres\040cambiarle\040la\040contraseña:
ALTER\040USER\040'pfadmin'@'localhost'
--\040si\040no\040existía:
CREATE\040USER\040IF\040NOT\040EXISTS\040'pfadmin'@'localhost'
GRANT\040SELECT,\040INSERT,\040UPDATE,\040DELETE
\040\040ON\040postfixadmin.*
\040\040TO\040'pfadmin'@'localhost';
GRANT\040SELECT,\040INSERT,\040UPDATE,\040DELETE\040\040\040ON\040postfixadmin.*\040\040\040TO\040'pfadmin'@'localhost';
CREATE\040USER\040IF\040NOT\040EXISTS\040'pfadmin'@'127.0.0.1'
GRANT\040SELECT,\040INSERT,\040UPDATE,\040DELETE
\040\040ON\040postfixadmin.*
\040\040TO\040'pfadmin'@'127.0.0.1';
GRANT\040SELECT,\040INSERT,\040UPDATE,\040DELETE\040\040\040ON\040postfixadmin.*\040\040\040TO\040'pfadmin'@'127.0.0.1';
FLUSH\040PRIVILEGES;
EXIT;
USE\040postfixadmin;
SHOW\040TABLES;
SELECT\040COUNT(*)\040FROM\040mailbox;
SELECT\040COUNT(*)\040FROM\040domain;
USE\040mailserver;
SHOW\040TABLES;
SELECT\040COUNT(*)\040FROM\040subscriptions;
SELECT\040*\040FROM\040subscriptions\040ORDER\040BY\040created_at\040DESC\040LIMIT\0405;
exit
--\040Si\040guardas\040el\040rol\040en\040una\040columna\040`role`
SELECT\040id,\040name,\040email,\040role,\040created_at
\040\040FROM\040users
\040WHERE\040role\040=\040'admin';
SELECT\040id,\040name,\040email,\040role,\040created_at\040\040\040FROM\040users\040\040WHERE\040role\040=\040'admin';
--\040Si\040tu\040super-admin\040es\040el\040primer\040registro\040(id\040=\0401)
SELECT\040id,\040name,\040email,\040created_at
\040\040FROM\040users
\040WHERE\040id\040=\0401;
SELECT\040id,\040name,\040email,\040created_at\040\040\040FROM\040users\040\040WHERE\040id\040=\0401;
exit
SELECT\040id,\040name,\040email,\040created_at
\040\040FROM\040users;
SELECT\040id,\040name,\040email,\040created_at\040\040\040FROM\040users;
exit
SELECT\040admin_id,\040username,\040email\040FROM\040admin;
DESCRIBE\040admin;
SELECT\040username,\040email_other,\040superadmin
\040\040FROM\040admin;
SELECT\040username,\040email_other,\040superadmin\040\040\040FROM\040admin;
exit
GRANT\040INSERT,\040SELECT,\040UPDATE\040ON\040postfixadmin.domain\040TO\040'mailuser'@'localhost';
FLUSH\040PRIVILEGES;
EXIT;
quit
DESCRIBE\040buzons;
DESCRIBE\040dominios;
quit
SHOW\040DATABASES;
USE\040postfixadmin;
SHOW\040TABLES;
USE\040mailserver;
SHOW\040TABLES;
DESCRIBE\040client_domains;
SELECT\040*\040
FROM\040client_domains
LIMIT\04010;
SELECT\040*\040\040FROM\040client_domains\040LIMIT\04010;
SELECT\040*\040
FROM\040client_domains
LIMIT\04010;
SELECT\040*\040\040FROM\040client_domains\040LIMIT\04010;
SELECT\040*\040
FROM\040buzons;\040
SELECT\040*\040\040FROM\040buzons;
SELECT\040*\040
FROM\040created_at;\040
SELECT\040*\040\040FROM\040created_at;
USE\040mailserver;
SELECT\040id,\040domain
FROM\040client_domains
WHERE\040domain\040=\040'smartcalling.cl';
SELECT\040id,\040domain\040FROM\040client_domains\040WHERE\040domain\040=\040'smartcalling.cl';
DESCRIBE\040client_logins;
FROM\040client_logins
WHERE\040client_domain_id\040=\0405
\040\040AND\040is_admin\040=\0401;
USE\040mailserver;
FROM\040client_logins
WHERE\040client_domain_id\040=\0404;
exit
SHOW\040DATABASES;
USE\040postfixadmin;
SHOW\040TABLES;
DESCRIBE\040admin;
SELECT\040*
FROM\040admin
LIMIT\04010;
SELECT\040*\040FROM\040admin\040LIMIT\04010;
SELECT\040*
FROM\040mailbox\040
LIMIT\04010;
SELECT\040*\040FROM\040mailbox\040\040LIMIT\04010;
SELECT\040*
FROM\040mailbox\040
LIMIT\040100;\040
SELECT\040*\040FROM\040mailbox\040\040LIMIT\040100;
exit
SHOW\040DATABASES;
USE\040postfixadmin;
SELECT\040domain,\040description,\040active
\040\040FROM\040postfixadmin_domain
\040WHERE\040domain\040=\040'connectia.info';
SELECT\040domain,\040description,\040active\040\040\040FROM\040postfixadmin_domain\040\040WHERE\040domain\040=\040'connectia.info';
INSERT\040INTO\040postfixadmin_domain
\040\040(domain,\040description,\040active,\040backupmx,\040created,\040modified)
VALUES
\040\040('connectia.info',\040'Dominio\040principal\040de\040Connectia',\0401,\0400,\040NOW(),\040NOW());
INSERT\040INTO\040postfixadmin_domain\040\040\040(domain,\040description,\040active,\040backupmx,\040created,\040modified)\040VALUES\040\040\040('connectia.info',\040'Dominio\040principal\040de\040Connectia',\0401,\0400,\040NOW(),\040NOW());
SHOW\040TABLES;
SELECT\040domain_id,\040domain,\040active
\040\040FROM\040domain
\040WHERE\040domain\040=\040'connectia.info';
SELECT\040domain_id,\040domain,\040active\040\040\040FROM\040domain\040\040WHERE\040domain\040=\040'connectia.info';
INSERT\040INTO\040domain
\040\040(domain,\040description,\040active,\040backupmx,\040created,\040modified)
VALUES
\040\040('connectia.info',
\040\040\040'Dominio\040principal\040de\040Connectia',
\040\040\0401,\040\040\040\040\040\040--\040activo
\040\040\0400,\040\040\040\040\040\040--\040backupmx\040=\0400\040(sin\040MX\040de\040respaldo)
\040\040\040NOW(),
\040\040\040NOW());
INSERT\040INTO\040domain\040\040\040(domain,\040description,\040active,\040backupmx,\040created,\040modified)\040VALUES\040\040\040('connectia.info',\040\040\040\040'Dominio\040principal\040de\040Connectia',\040\040\040\0401,\040\040\040\040\040\040\040\040\040\0400,\040\040\040\040\040\040\040\040\040\040NOW(),\040\040\040\040NOW());
SHOW\040COLUMNS\040FROM\040domain;
USE\040postfixadmin;
INSERT\040INTO\040domain
\040\040(
\040\040\040\040domain,
\040\040\040\040description,
\040\040\040\040aliases,
\040\040\040\040mailboxes,
\040\040\040\040maxquota,
\040\040\040\040quota,
\040\040\040\040transport,
\040\040\040\040backupmx,
\040\040\040\040created,
\040\040\040\040modified,
\040\040\040\040active,
\040\040)
VALUES
\040\040(
\040\040\040\040'connectia.info',
\040\040\040\040'Dominio\040principal\040de\040Connectia',
\040\040\040\040\0400,
\040\040\040\040'virtual',
\040\040\040\040\0400,
\040\040\040\040NOW(),
\040\040\040\040\0401,
\040\040\040\040\0400
\040\040);
SELECT\040*
\040\040FROM\040domain
\040WHERE\040domain\040=\040'connectia.info';
SELECT\040*\040\040\040FROM\040domain\040\040WHERE\040domain\040=\040'connectia.info';
SELECT\040*
\040\040FROM\040admin
\040WHERE\040username\040=\040'admin@connectia.info';
SELECT\040*\040\040\040FROM\040admin\040\040WHERE\040username\040=\040'admin@connectia.info';
exit
SELECT\040domain,
\040\040\040\040\040\040\040description,
\040\040\040\040\040\040\040transport,
\040\040\040\040\040\040\040active
\040\040FROM\040domain
\040WHERE\040domain\040=\040'connectia.info';
SELECT\040domain,\040\040\040\040\040\040\040\040description,\040\040\040\040\040\040\040\040transport,\040\040\040\040\040\040\040\040active\040\040\040FROM\040domain\040\040WHERE\040domain\040=\040'connectia.info';
USE\040postfixadmin;
SELECT\040domain,
\040\040\040\040\040\040\040description,
\040\040\040\040\040\040\040transport,
\040\040\040\040\040\040\040active
\040\040FROM\040domain
\040WHERE\040domain\040=\040'connectia.info';
SELECT\040domain,\040\040\040\040\040\040\040\040description,\040\040\040\040\040\040\040\040transport,\040\040\040\040\040\040\040\040active\040\040\040FROM\040domain\040\040WHERE\040domain\040=\040'connectia.info';
SELECT\040admin_id,
\040\040\040\040\040\040\040username,
\040\040\040\040\040\040\040active,
\040\040\040\040\040\040\040superadmin
\040\040FROM\040admin
\040WHERE\040username\040=\040'admin@connectia.info';
SELECT\040admin_id,\040\040\040\040\040\040\040\040username,\040\040\040\040\040\040\040\040active,\040\040\040\040\040\040\040\040superadmin\040\040\040FROM\040admin\040\040WHERE\040username\040=\040'admin@connectia.info';
SHOW\040COLUMNS\040FROM\040admin;
SELECT\040username,
\040\040\040\040\040\040\040active,
\040\040\040\040\040\040\040superadmin
\040\040FROM\040admin
\040WHERE\040username\040=\040'admin@connectia.info';
SELECT\040username,\040\040\040\040\040\040\040\040active,\040\040\040\040\040\040\040\040superadmin\040\040\040FROM\040admin\040\040WHERE\040username\040=\040'admin@connectia.info';
USE\040mailserver;
SHOW\040TABLES;
clear
USE\040postfixadmin;
SELECT\040domain,\040description,\040transport,\040active
\040\040FROM\040domain
\040WHERE\040domain\040=\040'connectia.info';
SELECT\040domain,\040description,\040transport,\040active\040\040\040FROM\040domain\040\040WHERE\040domain\040=\040'connectia.info';
SHOW\040COLUMNS\040FROM\040dominios;
exit
USE\040mailserver;
SHOW\040TABLES;
SHOW\040COLUMNS\040FROM\040dominios;
SELECT\040*\040
\040\040FROM\040dominios
\040WHERE\040domain\040=\040'connectia.info';
SELECT\040*\040\040\040\040FROM\040dominios\040\040WHERE\040domain\040=\040'connectia.info';
root@vmi2599867:/var/www/mailpanel#\040mysql\040-u\040root\040-p
Welcome\040to\040the\040MySQL\040monitor.\040\040Commands\040end\040with\040;\040or\040\134g.
Your\040MySQL\040connection\040id\040is\0405561
Server\040version:\0408.0.42-0ubuntu0.22.04.1\040(Ubuntu)
Copyright\040(c)\0402000,\0402025,\040Oracle\040and/or\040its\040affiliates.
Oracle\040is\040a\040registered\040trademark\040of\040Oracle\040Corporation\040and/or\040its
affiliates.\040Other\040names\040may\040be\040trademarks\040of\040their\040respective
owners.
Type\040'help;'\040or\040'\134h'\040for\040help.\040Type\040'\134c'\040to\040clear\040the\040current\040input\040statement.
mysql>\040USE\040mailserver;
.\040Your\040MySQL\040connection\040id\040is\0405561\040Server\040version:\0408.0.42-0ubuntu0.22.04.1\040(Ubuntu)\040\040Copyright\040(c)\0402000,\0402025,\040Oracle\040and/or\040its\040affiliates.\040\040Oracle\040is\040a\040registered\040trademark\040of\040Oracle\040Corporation\040and/or\040its\040affiliates.\040Other\040names\040may\040be\040trademarks\040of\040their\040respective\040owners.\040\040Type\040'help;'\040or\040'\134h'\040for\040help.\040Type\040'\134c'\040to\040clear\040the\040current\040input\040statement.\040\040mysql>\040USE\040mailserver;
Reading\040table\040information\040for\040completion\040of\040table\040and\040column\040names
You\040can\040turn\040off\040this\040feature\040to\040get\040a\040quicker\040startup\040with\040-A
Database\040changed
mysql>\040SHOW\040TABLES;
Reading\040table\040information\040for\040completion\040of\040table\040and\040column\040names\040You\040can\040turn\040off\040this\040feature\040to\040get\040a\040quicker\040startup\040with\040-A\040\040Database\040changed\040mysql>\040SHOW\040TABLES;
+------------------------+
|\040Tables_in_mailserver\040\040\040|
+------------------------+
|\040buzons\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|
|\040client_domains\040\040\040\040\040\040\040\040\040|
|\040client_logins\040\040\040\040\040\040\040\040\040\040|
|\040clients\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|
|\040dominios\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|
|\040failed_jobs\040\040\040\040\040\040\040\040\040\040\040\040|
|\040jobs\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|
|\040migrations\040\040\040\040\040\040\040\040\040\040\040\040\040|
|\040personal_access_tokens\040|
|\040plans\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|
|\040subscriptions\040\040\040\040\040\040\040\040\040\040|
|\040users\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|
+------------------------+
13\040rows\040in\040set\040(0.00\040sec)
mysql>\040SHOW\040COLUMNS\040FROM\040dominios;
+------------+-----------------+------+-----+---------+----------------+
|\040Field\040\040\040\040\040\040|\040Type\040\040\040\040\040\040\040\040\040\040\040\040|\040Null\040|\040Key\040|\040Default\040|\040Extra\040\040\040\040\040\040\040\040\040\040|
+------------+-----------------+------+-----+---------+----------------+
|\040id\040\040\040\040\040\040\040\040\040|\040bigint\040unsigned\040|\040NO\040\040\040|\040PRI\040|\040NULL\040\040\040\040|\040auto_increment\040|
|\040nombre\040\040\040\040\040|\040varchar(255)\040\040\040\040|\040NO\040\040\040|\040UNI\040|\040NULL\040\040\040\040|\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|
|\040valido\040\040\040\040\040|\040tinyint(1)\040\040\040\040\040\040|\040NO\040\040\040|\040\040\040\040\040|\0400\040\040\040\040\040\040\040|\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|
|\040created_at\040|\040timestamp\040\040\040\040\040\040\040|\040YES\040\040|\040\040\040\040\040|\040NULL\040\040\040\040|\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|
|\040updated_at\040|\040timestamp\040\040\040\040\040\040\040|\040YES\040\040|\040\040\040\040\040|\040NULL\040\040\040\040|\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|
+------------+-----------------+------+-----+---------+----------------+
5\040rows\040in\040set\040(0.00\040sec)
mysql>\040SELECT\040*
\040\040\040\040->\040\040\040FROM\040dominios
\040\040\040\040->\040\040WHERE\040domain\040=\040'connectia.info';
+------------+-----------------+------+-----+---------+----------------+\040|\040Field\040\040\040\040\040\040|\040Type\040\040\040\040\040\040\040\040\040\040\040\040|\040Null\040|\040Key\040|\040Default\040|\040Extra\040\040\040\040\040\040\040\040\040\040|\040+------------+-----------------+------+-----+---------+----------------+\040|\040id\040\040\040\040\040\040\040\040\040|\040bigint\040unsigned\040|\040NO\040\040\040|\040PRI\040|\040NULL\040\040\040\040|\040auto_increment\040|\040|\040nombre\040\040\040\040\040|\040varchar(255)\040\040\040\040|\040NO\040\040\040|\040UNI\040|\040NULL\040\040\040\040|\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|\040|\040valido\040\040\040\040\040|\040tinyint(1)\040\040\040\040\040\040|\040NO\040\040\040|\040\040\040\040\040|\0400\040\040\040\040\040\040\040|\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|\040|\040created_at\040|\040timestamp\040\040\040\040\040\040\040|\040YES\040\040|\040\040\040\040\040|\040NULL\040\040\040\040|\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|\040|\040updated_at\040|\040timestamp\040\040\040\040\040\040\040|\040YES\040\040|\040\040\040\040\040|\040NULL\040\040\040\040|\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040|\040+------------+-----------------+------+-----+---------+----------------+\0405\040rows\040in\040set\040(0.00\040sec)\040\040mysql>\040SELECT\040*\040\040\040\040\040->\040\040\040FROM\040dominios\040\040\040\040\040->\040\040WHERE\040domain\040=\040'connectia.info';
ERROR\0401054\040(42S22):\040Unknown\040column\040'domain'\040in\040'where\040clause'
mysql>
exit
USE\040mailserver;
SHOW\040COLUMNS\040FROM\040dominios;
SELECT\040id,
\040\040\040\040\040\040\040nombre,
\040\040\040\040\040\040\040valido,
\040\040\040\040\040\040\040created_at,
\040\040\040\040\040\040\040updated_at
\040\040FROM\040dominios
\040WHERE\040nombre\040=\040'connectia.info';
SELECT\040id,\040\040\040\040\040\040\040\040nombre,\040\040\040\040\040\040\040\040valido,\040\040\040\040\040\040\040\040created_at,\040\040\040\040\040\040\040\040updated_at\040\040\040FROM\040dominios\040\040WHERE\040nombre\040=\040'connectia.info';
INSERT\040INTO\040dominios\040(nombre,\040valido,\040created_at,\040updated_at)
VALUES\040('connectia.info',\0401,\040NOW(),\040NOW());
INSERT\040INTO\040dominios\040(nombre,\040valido,\040created_at,\040updated_at)\040VALUES\040('connectia.info',\0401,\040NOW(),\040NOW());
SHOW\040COLUMNS\040FROM\040buzons;
SELECT\040id,
\040\040\040\040\040\040\040username,
\040\040\040\040\040\040\040domain_id,
\040\040\040\040\040\040\040active,
\040\040\040\040\040\040\040maildir,
\040\040\040\040\040\040\040created_at,
\040\040\040\040\040\040\040updated_at
\040\040FROM\040buzons
\040WHERE\040username\040=\040'soporte'
\040\040\040AND\040domain_id\040=\0407;
SELECT\040id,\040\040\040\040\040\040\040\040username,\040\040\040\040\040\040\040\040domain_id,\040\040\040\040\040\040\040\040active,\040\040\040\040\040\040\040\040maildir,\040\040\040\040\040\040\040\040created_at,\040\040\040\040\040\040\040\040updated_at\040\040\040FROM\040buzons\040\040WHERE\040username\040=\040'soporte'\040\040\040\040AND\040domain_id\040=\0407;
USE\040mailserver;
SELECT\040id,\040nombre,\040valido
\040\040FROM\040dominios
\040WHERE\040nombre\040=\040'connectia.info';
SELECT\040id,\040nombre,\040valido\040\040\040FROM\040dominios\040\040WHERE\040nombre\040=\040'connectia.info';
SELECT\040id,
\040\040\040\040\040\040\040email,
\040\040\040\040\040\040\040activo,
\040\040\040\040\040\040\040dominio_id,
\040\040\040\040\040\040\040created_at,
\040\040\040\040\040\040\040updated_at
\040\040FROM\040buzons
\040WHERE\040email\040=\040'soporte@connectia.info'
\040\040\040AND\040dominio_id\040=\0401;\040
SELECT\040id,
\040\040\040\040\040\040\040email,
\040\040\040\040\040\040\040activo,
\040\040\040\040\040\040\040dominio_id,
\040\040\040\040\040\040\040created_at,
\040\040\040\040\040\040\040updated_at
\040\040FROM\040buzons
\040WHERE\040email\040\040\040\040\040\040=\040'soporte@connectia.info'
\040\040\040AND\040dominio_id\040=\0401;
exit
USE\040mailserver;
INSERT\040INTO\040buzons
\040\040(
\040\040\040\040email,
\040\040\040\040activo,
\040\040\040\040dominio_id,
\040\040\040\040created_at,
\040\040\040\040updated_at
\040\040)
VALUES
\040\040(
\040\040\040\040'soporte@connectia.info',
\040\040\040\040'{SHA512-CRYPT}$6$hXUAzqmGsqwQdHS9$MVaIPZLul6DD5cQYW664FdPp1ZlO/xTg.RSZsRobq5y5978UJiTTvz3Pl/ioWMQGsOTVo5Pjb4ghGeYlrGAli1',
\040\040\040\040\0401,
\040\040\040\040NOW(),
\040\040\040\040NOW()
\040\040);
SELECT\040id,
\040\040\040\040\040\040\040email,
\040\040\040\040\040\040\040activo,
\040\040\040\040\040\040\040dominio_id,
\040\040\040\040\040\040\040created_at,
\040\040\040\040\040\040\040updated_at
\040\040FROM\040buzons
\040WHERE\040email\040\040\040\040\040\040=\040'soporte@connectia.info'
\040\040\040AND\040dominio_id\040=\0401;
SELECT\040id,\040\040\040\040\040\040\040\040email,\040\040\040\040\040\040\040\040activo,\040\040\040\040\040\040\040\040dominio_id,\040\040\040\040\040\040\040\040created_at,\040\040\040\040\040\040\040\040updated_at\040\040\040FROM\040buzons\040\040WHERE\040email\040\040\040\040\040\040=\040'soporte@connectia.info'\040\040\040\040AND\040dominio_id\040=\0401;
exit
USE\040mailserver;
SHOW\040COLUMNS\040FROM\040clients;
SHOW\040CREATE\040TABLE\040clients\134G
exit
USE\040mailserver;
INSERT\040INTO\040clients\040(
\040\040\040\040name,
\040\040\040\040email,
\040\040\040\040expires_at,
\040\040\040\040created_at,
\040\040\040\040updated_at
)\040VALUES\040(
\040\040\040\040'Admin\040Smartcalling',\040\040\040\040\040\040\040\040\040\040\040\040\040--\040nombre\040a\040mostrar
\040\040\040\040'admin@smartcalling.cl',\040\040\040\040\040\040\040\040\040\040--\040email\040único
\040\040\040\040'$2y$12$7XjhcX3.srY/aXUCaMz04.cm2UPn6Cg8b83.hXidE20M8fetFY4UO',\040\040\040
\040\040\040\040NULL,\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040expires_at\040(si\040no\040quieres\040fecha\040de\040expiración)
\040\040\040\040NOW(),\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040created_at
\040\040\040\040NOW()\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040--\040updated_at
);
exit
USE\040mailserver;
INSERT\040INTO\040users\040(
\040\040\040\040name,
\040\040\040\040email,
\040\040\040\040created_at,
\040\040\040\040updated_at
)\040VALUES\040(
\040\040\040\040'Admin\040Smartcalling',\040\040\040\040\040\040\040\040\040\040\040\040\040--\040mismo\040nombre\040que\040usaste\040en\040clients\040(puede\040ser\040igual)
\040\040\040\040'admin@smartcalling.cl',\040\040\040\040\040\040\040\040\040\040--\040email\040(debe\040coincidir,\040es\040la\040llave\040en\040User→Client)
\040\040\040\040$2y$12$7XjhcX3.srY/aXUCaMz04.cm2UPn6Cg8b83.hXidE20M8fetFY4UO',
\040\040\040\040NOW(),
\040\040\040\040NOW()
);
exit
USE\040mailserver;
INSERT\040INTO\040users\040(
\040\040\040\040name,
\040\040\040\040email,
\040\040\040\040created_at,
\040\040\040\040updated_at
)\040VALUES\040(
\040\040\040\040'Admin\040Smartcalling',\040\040\040\040\040\040\040\040\040\040\040\040\040--\040mismo\040nombre\040que\040usaste\040en\040clients\040(puede\040ser\040igual)
\040\040\040\040'admin@smartcalling.cl',\040\040\040\040\040\040\040\040\040\040--\040email\040(debe\040coincidir,\040es\040la\040llave\040en\040User→Client)
\040\040\040\040'$2y$12$7XjhcX3.srY/aXUCaMz04.cm2UPn6Cg8b83.hXidE20M8fetFY4UO',\040
\040\040\040\040NOW(),
\040\040\040\040NOW()
);
exit;
USE\040mailserver;
SELECT\040id,\040email
\040\040FROM\040clients
\040WHERE\040email\040=\040'admin@smartcalling.cl';
SELECT\040id,\040email\040\040\040FROM\040clients\040\040WHERE\040email\040=\040'admin@smartcalling.cl';
exit
USE\040mailserver;
SELECT\040id\040AS\040dominio_id,
\040\040\040\040\040\040\040client_id,
\040\040\040\040\040\040\040domain
\040\040FROM\040client_domains
\040WHERE\040domain\040=\040'smartcalling.cl';
SELECT\040id\040AS\040dominio_id,\040\040\040\040\040\040\040\040client_id,\040\040\040\040\040\040\040\040domain\040\040\040FROM\040client_domains\040\040WHERE\040domain\040=\040'smartcalling.cl';
exit
USE\040mailserver;
UPDATE\040client_domains
\040\040\040SET\040client_id\040=\04031\040
\040WHERE\040domain\040=\040'smartcalling.cl';
UPDATE\040client_domains\040\040\040\040SET\040client_id\040=\04031\040\040\040WHERE\040domain\040=\040'smartcalling.cl';
SELECT\040id\040AS\040dominio_id,
\040\040\040\040\040\040\040client_id,
\040\040\040\040\040\040\040domain
\040\040FROM\040client_domains
\040WHERE\040domain\040=\040'smartcalling.cl';
SELECT\040id\040AS\040dominio_id,\040\040\040\040\040\040\040\040client_id,\040\040\040\040\040\040\040\040domain\040\040\040FROM\040client_domains\040\040WHERE\040domain\040=\040'smartcalling.cl';
exit
SHOW\040TABLES;
DESCRIBE\040clients;
DESCRIBE\040subscriptions;
SELECT
\040\040domain,
\040\040status,
\040\040expires_at\040\040\040AS\040fecha_vencimiento,
\040\040grace_until\040\040AS\040periodo_gracia
FROM\040subscriptions
WHERE\040LOWER(domain)\040=\040'smartcalling.cl';
SELECT\040\040\040domain,\040\040\040status,\040\040\040expires_at\040\040\040AS\040fecha_vencimiento,\040\040\040grace_until\040\040AS\040periodo_gracia\040FROM\040subscriptions\040WHERE\040LOWER(domain)\040=\040'smartcalling.cl';
SELECT
\040\040domain,
\040\040status,
\040\040expires_at\040\040\040AS\040fecha_vencimiento,
\040\040grace_until\040\040AS\040periodo_gracia
FROM\040subscriptions
WHERE\040LOWER(domain)\040=\040'smartcalling.cl'
\040\040AND\040status\040=\040'active';
SELECT\040\040\040domain,\040\040\040status,\040\040\040expires_at\040\040\040AS\040fecha_vencimiento,\040\040\040grace_until\040\040AS\040periodo_gracia\040FROM\040subscriptions\040WHERE\040LOWER(domain)\040=\040'smartcalling.cl'\040\040\040AND\040status\040=\040'active';
SELECT
\040\040COUNT(*)\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040AS\040total_pending,
\040\040MIN(created_at)\040\040\040\040\040\040\040\040\040\040\040\040\040AS\040primer_intento,
\040\040MAX(created_at)\040\040\040\040\040\040\040\040\040\040\040\040\040AS\040último_intento
FROM\040subscriptions
WHERE\040LOWER(domain)\040=\040'smartcalling.cl'
\040\040AND\040status\040=\040'pending';
SELECT\040\040\040COUNT(*)\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040\040AS\040total_pending,\040\040\040MIN(created_at)\040\040\040\040\040\040\040\040\040\040\040\040\040AS\040primer_intento,\040\040\040MAX(created_at)\040\040\040\040\040\040\040\040\040\040\040\040\040AS\040último_intento\040FROM\040subscriptions\040WHERE\040LOWER(domain)\040=\040'smartcalling.cl'\040\040\040AND\040status\040=\040'pending';
SELECT
\040\040domain,
\040\040status,
\040\040expires_at,
\040\040grace_until,
\040\040created_at
FROM\040subscriptions
WHERE\040LOWER(domain)\040=\040'smartcalling.cl'
ORDER\040BY\040created_at\040DESC
LIMIT\0401;
SELECT\040\040\040domain,\040\040\040status,\040\040\040expires_at,\040\040\040grace_until,\040\040\040created_at\040FROM\040subscriptions\040WHERE\040LOWER(domain)\040=\040'smartcalling.cl'\040ORDER\040BY\040created_at\040DESC\040LIMIT\0401;
EXIT
SELECT\040
\040\040id,
\040\040domain,
\040\040status,
\040\040expires_at,
\040\040created_at
FROM\040subscriptions
WHERE\040LOWER(domain)\040=\040'smartcalling.cl'
\040\040AND\040status\040=\040'active'
ORDER\040BY\040created_at\040DESC
LIMIT\0401;
SELECT\040\040\040\040id,\040\040\040domain,\040\040\040status,\040\040\040expires_at,\040\040\040created_at\040FROM\040subscriptions\040WHERE\040LOWER(domain)\040=\040'smartcalling.cl'\040\040\040AND\040status\040=\040'active'\040ORDER\040BY\040created_at\040DESC\040LIMIT\0401;
UPDATE\040subscriptions
SET\040expires_at\040=\040'2025-06-05\04023:59:59'
WHERE\040id\040=\040<ID_ACTIVA>;
UPDATE\040subscriptions\040SET\040expires_at\040=\040'2025-06-05\04023:59:59'\040WHERE\040id\040=\040<ID_ACTIVA>;
UPDATE\040subscriptions
SET\040expires_at\040=\040'2025-06-05\04023:59:59'
WHERE\040id\040=\04021;\040
UPDATE\040subscriptions\040SET\040expires_at\040=\040'2025-06-05\04023:59:59'\040WHERE\040id\040=\04021;
UPDATE\040subscriptions
SET\040expires_at\040=\040'2025-07-05\04023:59:59'
WHERE\040id\040=\04021;\040
UPDATE\040subscriptions\040SET\040expires_at\040=\040'2025-07-05\04023:59:59'\040WHERE\040id\040=\04021;
SELECT\040
\040\040domain,
\040\040status,
\040\040expires_at\040AS\040fecha_vencimiento
FROM\040subscriptions
WHERE\040id\040=\04021;\040
SELECT\040\040\040\040domain,\040\040\040status,\040\040\040expires_at\040AS\040fecha_vencimiento\040FROM\040subscriptions\040WHERE\040id\040=\04021;
exit
SELECT\040username,\040maildir\040
\040\040FROM\040mailbox\040
\040WHERE\040username='admin@connectia.info';
SELECT\040username,\040maildir\040\040\040\040FROM\040mailbox\040\040\040WHERE\040username='admin@connectia.info';
exit
SELECT\040domain,\040active\040
\040\040FROM\040domain\040
\040WHERE\040domain='connectia.info';
SELECT\040domain,\040active\040\040\040\040FROM\040domain\040\040\040WHERE\040domain='connectia.info';
SELECT\040username,\040maildir,\040active\040
\040\040FROM\040mailbox\040
\040WHERE\040username='admin@connectia.info';
SELECT\040username,\040maildir,\040active\040\040\040\040FROM\040mailbox\040\040\040WHERE\040username='admin@connectia.info';
clear
exit
CREATE\040DATABASE\040roundcube
\040\040DEFAULT\040CHARACTER\040SET\040utf8mb4
\040\040COLLATE\040utf8mb4_unicode_ci;
CREATE\040DATABASE\040roundcube\040\040\040DEFAULT\040CHARACTER\040SET\040utf8mb4\040\040\040COLLATE\040utf8mb4_unicode_ci;
CREATE\040USER\040'roundcube'@'localhost'
GRANT\040ALL\040PRIVILEGES\040ON\040roundcube.*\040TO\040'roundcube'@'localhost';
FLUSH\040PRIVILEGES;
EXIT;
--\040Plan\040Basic:\040cuota\0401\040GB
UPDATE\040mailbox
\040\040\040SET\040quota\040=\0401048576
\040WHERE\040plan_id\040=\0401;
UPDATE\040mailbox\040\040\040\040SET\040quota\040=\0401048576\040\040WHERE\040plan_id\040=\0401;
--\040Plan\040Essentials:\040cuota\04050\040GB
UPDATE\040mailbox
\040\040\040SET\040quota\040=\04052428800
\040WHERE\040plan_id\040=\0402;
UPDATE\040mailbox\040\040\040\040SET\040quota\040=\04052428800\040\040WHERE\040plan_id\040=\0402;
--\040Plan\040Premium:\040cuota\040100\040GB
UPDATE\040mailbox
\040\040\040SET\040quota\040=\040104857600
\040WHERE\040plan_id\040=\0403;
UPDATE\040mailbox\040\040\040\040SET\040quota\040=\040104857600\040\040WHERE\040plan_id\040=\0403;
exit
USE\040postfixadmin;
SELECT\040username,\040home\040FROM\040mailbox\040WHERE\040username='soporte@connectia.info';
DESCRIBE\040mailbox;
SELECT\040username,\040maildir\040FROM\040mailbox\040WHERE\040username='soporte@connectia.info';
exit
USE\040postfixadmin;
SELECT\040username,\040smtp_active\040FROM\040mailbox\040WHERE\040username='soporte@connectia.info';
EXIT;
USE\040postfixadmin;
doveadm\040pw\040-s\040MD5-CRYPT\040-p\040'Soyelniko1'
Soyelniko1
FLUSH\040PRIVILEGES;
EXIT;
USE\040postfixadmin;
doveadm\040pw\040-s\040MD5-CRYPT\040-p\040'Soyelniko1'
exit
USE\040postfixadmin;
FLUSH\040PRIVILEGES;exit
exit
FLUSH\040PRIVILEGES;
exit\040exit\040FLUSH\040PRIVILEGES;
EXIT
SHOW\040DATABASES;
USE\040postfixadmin;
SHOW\040TABLES;
USE\040mailserver;
SHOW\040TABLES;
SELECT\040*\040FROM\040mailbox;
SELECT\040*\040FROM\040domain;
FLUSH\040PRIVILEGES;
exit
SELECT\040username,\040quota\040FROM\040mailbox\040WHERE\040username='soporte@connectia.info';
exit
SHOW\040TABLES;
--\040Si\040existe\040una\040tabla\040mailbox\040o\040users,\040prueba:
SELECT\040*\040FROM\040mailbox\040WHERE\040username='soporte@connectia.info';
exit
