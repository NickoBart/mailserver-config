<x-guest-layout>
  @section('title','Contratar')
  <x-slot name="slot">
    <section class="py-16">
      <div class="max-w-2xl mx-auto bg-white shadow rounded p-6">
        <h1 class="text-2xl font-bold mb-4">Formulario de Contratación</h1>

        {{-- Mostrar errores --}}
        @if($errors->any())
          <div class="mb-4 p-4 bg-red-100 text-red-800 rounded">
            <ul class="list-disc pl-5">
              @foreach($errors->all() as $e)
                <li>{{ $e }}</li>
              @endforeach
            </ul>
          </div>
        @endif

        <form action="{{ route('subscribe.store') }}" method="POST" class="space-y-4">
          @csrf

          <input type="hidden" name="plan_id" value="{{ request('plan_id') }}">

          <label>Tu nombre</label>
          <input name="name" type="text" required class="w-full border rounded p-2">

          <label>Tu correo</label>
          <input name="email" type="email" required class="w-full border rounded p-2">

          <label>Tu dominio</label>
          <input name="domain" type="text" required class="w-full border rounded p-2">

          <label>Cantidad de buzones</label>
          <select name="quantity" required class="w-full border rounded p-2">
            @for($i=1;$i<=200;$i++)
              <option value="{{$i}}">{{$i}}</option>
            @endfor
          </select>

          <label>Día de facturación (1–28)</label>
          <select name="billing_day" required class="w-full border rounded p-2">
            @for($d=1;$d<=28;$d++)
              <option value="{{$d}}">{{$d}}</option>
            @endfor
          </select>

          <label>Razón social</label>
          <input name="razon_social" type="text" required class="w-full border rounded p-2">

          <label>RUT / ID fiscal</label>
          <input name="rut" type="text" required class="w-full border rounded p-2">

          <label>Dirección</label>
          <input name="direccion" type="text" required class="w-full border rounded p-2">

          <label>Ciudad / Región</label>
          <input name="ciudad_region" type="text" required class="w-full border rounded p-2">

          <label>Giro / Actividad económica</label>
          <input name="giro" type="text" required class="w-full border rounded p-2">

          <label>Email de contacto (opcional)</label>
          <input name="contact_email" type="email" class="w-full border rounded p-2">

          <label>Teléfono de contacto (opcional)</label>
          <input name="contact_phone" type="tel" class="w-full border rounded p-2">

          <button type="submit" class="w-full bg-blue-600 text-white p-2 rounded">
            Pagar
          </button>
        </form>
      </div>
    </section>
  </x-slot>
</x-guest-layout>
